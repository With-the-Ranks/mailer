@import 'tailwindcss';

@config '../tailwind.config.js';
@import 'fumadocs-ui/css/ocean.css';
@import 'fumadocs-ui/css/preset.css';

/* Fumadocs Theme Customization */
@theme {
  /* Light mode colors */
  --color-fd-primary: hsl(237, 47%, 24%);
  --color-fd-primary-foreground: hsl(0, 0%, 98%);
  --color-fd-accent: hsl(237, 47%, 92%);
  --color-fd-accent-foreground: hsl(237, 47%, 24%);
  --color-fd-ring: hsl(237, 47%, 24%);
  
  /* Typography - Use app fonts */
  --font-sans: var(--font-inter), system-ui, sans-serif;
  --font-heading: var(--font-cal), system-ui, sans-serif;
}

.dark {
  /* Dark mode colors */
  --color-fd-primary: hsl(237, 55%, 65%);
  --color-fd-primary-foreground: hsl(0, 0%, 9%);
  --color-fd-accent: hsl(237, 30%, 18%);/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
}
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility overflow-hidden {
  -webkit-mask-image: -webkit-radial-gradient(white, black);
}

/* Hide theme toggle in docs */
[data-theme-toggle] {
  display: none !important;
}

/* Components */
@utility btn {
  @apply inline-flex justify-center items-center gap-3 px-4 py-2.5 rounded-[28px]
      bg-primary text-white
      hover:bg-accent hover:shadow-xl hover:translate-y-0.5
      transition duration-300 ease-in-out
      text-center font-semibold uppercase text-sm tracking-[0.08em] no-underline;
}

/* Color variables and theme */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 220.9 39.3% 11%;
    --primary-foreground: 210 20% 98%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 220.9 39.3% 11%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 220 14.3% 95.9%;
    --accent-foreground: 220.9 39.3% 11%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 20% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 224 71.4% 4.1%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --sidebar-background: 224, 76%, 48%; /* blue-700: #1d4ed8 */
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 0 0% 100% / 0.1;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 224, 76%, 48% / 0.2;
    --sidebar-ring: 224, 76%, 48%;
  }

  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    --primary: 210 20% 98%;
    --primary-foreground: 220.9 39.3% 11%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 216 12.2% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  * {
    border-color: hsl(var(--border));
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  /* Utilities */
}

/* ProseMirror editor placeholder and image styles */
.ProseMirror .is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  float: left;
  color: #adb5bd;
  pointer-events: none;
  height: 0;
}
.ProseMirror .is-empty::before {
  content: attr(data-placeholder);
  float: left;
  color: #adb5bd;
  pointer-events: none;
  height: 0;
}

/* Custom image styles */
.ProseMirror img {
  transition: filter 0.1s ease-in-out;
}
.ProseMirror img:hover {
  cursor: pointer;
  filter: brightness(90%);
}
.ProseMirror img.ProseMirror-selectednode {
  outline: 3px solid #5abbf7;
  filter: brightness(90%);
}

/* Custom TODO list checkboxes */
ul[data-type="taskList"] li > label {
  margin-right: 0.2rem;
  user-select: none;
}
@media screen and (max-width: 768px) {
  ul[data-type="taskList"] li > label {
    margin-right: 0.5rem;
  }
}
ul[data-type="taskList"] li > label input[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  background-color: hsl(var(--background));
  margin: 0;
  cursor: pointer;
  width: 1.2em;
  height: 1.2em;
  position: relative;
  top: 5px;
  border: 2px solid hsl(var(--border));
  margin-right: 0.3rem;
  display: grid;
  place-content: center;
}
ul[data-type="taskList"] li > label input[type="checkbox"]:hover {
  background-color: hsl(var(--muted));
}
ul[data-type="taskList"] li > label input[type="checkbox"]:active {
  background-color: hsl(var(--muted));
}
ul[data-type="taskList"] li > label input[type="checkbox"]::before {
  content: "";
  width: 0.65em;
  height: 0.65em;
  transform: scale(0);
  transition: 120ms transform ease-in-out;
  box-shadow: inset 1em 1em;
  transform-origin: center;
  clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
}
ul[data-type="taskList"] li > label input[type="checkbox"]:checked::before {
  transform: scale(1);
}
ul[data-type="taskList"] li[data-checked="true"] > div > p {
  color: #a8a29e;
  text-decoration: line-through;
  text-decoration-thickness: 2px;
}

/* rdt input fix */
.rdt input {
  border: none;
  padding: 0;
}

/* Fix placeholder overlap bug */
.ProseMirror .is-editor-empty:first-child::before {
  content: unset;
}
.ProseMirror li.is-empty::before,
.ProseMirror ul.is-empty::before {
  content: unset;
}

/* Fix double select dropdown arrow */
select {
  background-image: unset;
}

/* Fumadocs Typography */
.prose {
  font-family: var(--font-inter), system-ui, sans-serif;
  /* Ensure prose respects Fumadocs color variables */
  color: var(--color-fd-foreground, hsl(var(--foreground)));
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  font-family: var(--font-cal), system-ui, sans-serif;
  font-weight: 600;
  color: var(--color-fd-foreground, hsl(var(--foreground)));
}

.prose a {
  color: var(--color-fd-primary);
  text-decoration: none !important;
  font-weight: 500;
}

.prose a:hover {
  text-decoration: underline !important;
}

.prose strong,
.prose b {
  color: var(--color-fd-foreground, hsl(var(--foreground)));
  font-weight: 600;
}

.prose em,
.prose i {
  color: var(--color-fd-foreground, hsl(var(--foreground)));
}

.prose code {
  color: var(--color-fd-foreground, hsl(var(--foreground)));
  background-color: var(--color-fd-muted, hsl(var(--muted)));
}

.prose pre {
  background-color: var(--color-fd-muted, hsl(var(--muted)));
  color: var(--color-fd-foreground, hsl(var(--foreground)));
}

.prose pre code {
  background-color: transparent;
}

.prose blockquote {
  color: var(--color-fd-muted-foreground, hsl(var(--muted-foreground)));
  border-left-color: var(--color-fd-border, hsl(var(--border)));
}

.prose ul,
.prose ol {
  color: var(--color-fd-foreground, hsl(var(--foreground)));
}

.prose li {
  color: var(--color-fd-foreground, hsl(var(--foreground)));
}

.prose p {
  color: var(--color-fd-foreground, hsl(var(--foreground)));
}

.prose td,
.prose th {
  color: var(--color-fd-foreground, hsl(var(--foreground)));
  border-color: var(--color-fd-border, hsl(var(--border)));
}

/* Docs page specific typography */
.docs-page {
  font-family: var(--font-inter), system-ui, sans-serif;
}

.docs-page h1,
.docs-page h2,
.docs-page h3,
.docs-page h4,
.docs-page h5,
.docs-page h6 {
  font-family: var(--font-cal), system-ui, sans-serif;
  font-weight: 600;
}

[data-nav-title],
nav a[href="/docs"] {
  font-family: var(--font-cal), system-ui, sans-serif;
  font-weight: 600;
}